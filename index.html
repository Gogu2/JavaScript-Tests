<html>
<head>
<script type="text/javascript">



   var soundObject = null;
        function playSound(soundfile) {
            if (soundObject != null) {
                document.body.removeChild(soundObject);
                soundObject.removed = true;
                soundObject = null;
            }
            soundObject = document.createElement("embed");
            soundObject.setAttribute("src", "sounds/"+soundfile);
            soundObject.setAttribute("hidden", true);
            soundObject.setAttribute("autostart", true);
            document.body.appendChild(soundObject);
        }


var funcSetInterval;
var map = {};

//var soundjump = new Audio('sounds/jump.mp3');

var startspitting = []; //5
	var spitdirection = []; //new int[5];

  var xspit = []; //5
	var yspit = []; //5

	var enemymouthy = 30;
	var startspittingkirby;
	var xspitkirby;
	var yspitkirby;
	var spitdirectionkirby;
	var kirbydirection;

  var aspiring = [];
  var aspiringrange = 200;



  var platformwidth = Array(10000, 123, 123, 123, 123 );
	var aspiring = Array(0,0,0,0,0,0);

  var doorwidth = 75;
	var doorHeight = 75;

	var xc = 500;
	var yc = 0;
	var cagedReleased = 0;

  var img;
  var imgBandana;
  var imgEnemyLeft;
  var imgDoor;
  var imgCoin;
  var imgCurrent;
  var imgCurrentBandana;
  var imgBandana;
  var imgPlatform;
  var imgBlankForPlatform;
  var imgEnemyCurrent = Array(0,0,0,0);

    var hashat=0;
	  var kirbywidth = 75;
	  var bandanawidth =75;
	  var kirbyheight = 75;
	  var screenwidth = 640;
    
    var applewidth = 89;
	var appleheight = 84;
	var coinwidth = 75;
	var kirbywidth = 47;// 75;
	var bandanawidth = 50;
	var bandanaheight = 75;
	var kirbyheight = 54;// 75;
	var screenwidth = 640;

	var kirbyfirewidth = 47;
	var kirbyfireheight = 86;

  // kirby
	var xkirby = 0;
	var y0 = 321;
	var ykirby = y0;
	var v0y = -75; // 75
	var vy = v0y;

	var xinit = 0;
	var yinit = 321;
    
// kirby
var onmovingplatform = 0;
	var jumpstarted = 0;
	var jumpleft = 0;
	var jumpright = 0;
	var t = 0;
	var idletime = 0;
	var onplatform = 1;
	var fallstart = 0;
	var jumpfromplatform = 0;
	var coinsTaken = 0;

   // bandana
	var xb = screenwidth - 75;
	var yb0 = 300;
	var yb = yb0;
	var vb0y = -75; // 75
	var vby = vb0y;

	var xbinit = screenwidth - 75;
	var ybinit = 300;

  
    
    //enemy
    var xe = 500;
    var ye = 300;

    var maxLevel = 3;

    var platformrange = 200;
   // const yplatform = new Array(375, 250, 150, 50);
   // const xplatform = new Array(0, 150, 350, 550);
   // const platformwidth = new Array(10000, 123, 123, 123);

var xplatform = [];
xplatform = new Array(4).fill(0).map(() => new Array(maxLevel + 1).fill(0));
var yplatform = [];
yplatform = new Array(4).fill(0).map(() => new Array(maxLevel + 1).fill(0));

    const nrcoins = new Array( 0, 3, 3, 3, 3, 3, 0 );
	  const nrplatforms = new Array( 0, 3, 3, 3, 3, 3, 0 );

   // const movingplatform = new Array[4][maxLevel + 1]; //new boolean[4][maxLevel + 1];
    var movingplatform = [];
    movingplatform = new Array(4).fill(0).map(() => new Array(maxLevel + 1).fill(0));

    /*
    int[][] platformmaxx = new int[4][maxLevel + 1];
	int[][] platformminx = new int[4][maxLevel + 1];
	int[][] platformdirection = new int[4][maxLevel + 1];

	// enemy
	int enemyheight = 75;
	int[][] enemymaxx = new int[4][maxLevel + 1]; // 300;
	int[][] enemyminx = new int[4][maxLevel + 1]; // 100;

	int[][] xe = new int[4][maxLevel + 1]; // enemymaxx;
	int[][] ye = new int[4][maxLevel + 1]; // 300;

	int[][] enemydirection = new int[4][maxLevel + 1];
	boolean[][] enemyExists = new boolean[4][maxLevel + 1];
	boolean[][] enemySpitting = new boolean[4][maxLevel + 1];
   */

   var platformmaxx = [];
   platformmaxx = new Array(4).fill(0).map(() => new Array(maxLevel + 1).fill(0));
   var platformminx = [];
   platformminx = new Array(4).fill(0).map(() => new Array(maxLevel + 1).fill(0));
   var platformdirection = [];
   platformdirection = new Array(4).fill(0).map(() => new Array(maxLevel+1).fill(0));

   var enemyheight = 75;
   var enemymaxx=[];
   enemymaxx = new Array(4).fill(0).map(() => new Array(maxLevel + 1).fill(0));
   
   var enemyminx = [];
   enemyminx = new Array(4).fill(0).map(() => new Array(maxLevel + 1).fill(0));
   
   var xe= [];
   xe= new Array(4).fill(0).map(() => new Array(maxLevel + 1).fill(0));
   
   var ye= [];
   ye= new Array(4).fill(0).map(() => new Array(maxLevel + 1).fill(0));

   var enemydirection = [];
   enemydirection = new Array(4).fill(0).map(() => new Array(maxLevel + 1).fill(0));
   
   var enemyExists = [];
   enemyExists = new Array(4).fill(0).map(() => new Array(maxLevel + 1).fill(0));
   
   var enemySpitting = [];
   enemySpitting = new Array(4).fill(0).map(() => new Array(maxLevel + 1).fill(0));

    
    var platformheight =53;
    

    
  
   //const coinx = [[125, 250, 400],[300, 300, 300], [125, 250, 400]];   
    //const coiny = [[300, 300, 300],[300, 300, 300],[300, 300, 300]];  
    
   
    
	var coiny = [];
  coiny =  new Array(3).fill(0).map(() => new Array(maxLevel + 1).fill(0));
  var coinx = [];
  coinx =  new Array(3).fill(0).map(() => new Array(maxLevel + 1).fill(0));
    
    const xDoor = new Array(0,0,0);
    const yDoor = new Array(0,0,0);
    var doorwidth = 75;
    var platform=0;
    var platformb = 0;
    
    
  //  var platformwidth = 123;
  
    
    //kirby
    var booljumpstarted = 0;
    var booljumpleft = 0;
    var booljumpright = 0;

    var t = 0;
    var idletime = 0;
    
    var boolonplatform = 1;
    var boolfallstart = 0;
    var booljumpfromplatform = false;
    var coinsTaken = 0;
   
   // bandana
	var onmovingplatformb = 0;
	var jumpstartedb = 0;
	var jumpleftb = 0;
	var jumprightb = 0;
	var tb = 0;
	var idletimeb = 0;
	var onplatformb = 1;
	var fallstartb = 0;
	var jumpfromplatformb = 0;
	var coinsTakenb = 0;
    

    
    
    var coins = 3;
    var maxLevel = 6;
    
    
    var gravity = 5; //10
    
    
   
    
    
      var bool_moveLeft;
        var bool_moveRight;
        
        var  bool_moveLeftb;
        var bool_moveRightb;
        
   //enemy
  
  // var boolenemyExists = false;
   var boolenemyDied = false;
   
   var whispywidth = 511;
	var whispyheight = 269;
	
	var xwhispy=150;
	var ywhispy=y0+kirbyheight-whispyheight;
	
	

	var x0apple = 150+Math.floor(Math.random() * 250); 
	var y0apple=150;
	var yapple = y0apple;
	var xapple = x0apple;
   
   //////////////////////SOUND
  

    
    
    var level = 1;
    
  function drawImage(idImage, xdraw, ydraw)
{
  const c = document.getElementById("canvas1");
  const ctx = c.getContext("2d");
  const img = document.getElementById(idImage);
  ctx.drawImage(img, xdraw, ydraw);
}
   
  
    
    function gameLoop() 
    {
      //		if (playermp3.getStatus() == MediaPlayer.Status.PLAYING)
//		{
//			playermp3.stop();
//		}
//		else 
//		{
//			playermp3.play();
//		}

		// playermp3.play();

		// game over

   
		if (document.getElementById("lifeKirby").getAttribute('value') == 0 || document.getElementById("pbBandana").getAttribute('value') == 0) {
			//timer.stop();
			clearInterval(funcSetInterval);
      drawImage("imgGameOver", 0, 0);

			//getContentPane().repaint();
			// btnNewGame.setVisible(true);
			return;
		}
    
		// end game over

		// idling
		idletime++;
		idletimeb++;
		if (idletime == 20) {
			if (!hashat) {
				if (imgCurrent == img)
					drawImage("imgBlank", xkirby, ykirby);
				else
					drawImage("imgBlankK", xkirby, ykirby);
				imgCurrent = "img";
			} else {
				// if (imgCurrent == img)
				// g.drawImage(imgBlank, xkirby, ykirby, null);
				// else
				// g.drawImage(imgBlankK, xkirby, ykirby, null);
				// if (imgCurrent == imgKirbyFireLeft || imgCurrent == imgKirbyFireRight)
				// g.drawImage(imgBlankFire, xkirby, ykirby, null);
				// else
				drawImage("imgBlankFireWide", xkirby, ykirby);

				imgCurrent = "imgKirbyFire";
			}
			// g.drawImage(imgBlank, xkirby, ykirby, null);
			// imgCurrent = img;
			//getContentPane().repaint();
		}

		idletimeb++;
		if (idletimeb == 20) {
			if (imgCurrentBandana == "imgBandana")
				drawImage("imgBlankE", xb, yb);
			else
				drawImage("imgBlankE", xb, yb); // debugstefan
			// g.drawImage(imgBlank, xb, yb, null);
			imgCurrentBandana = "imgBandana";
			//getContentPane().repaint();
		}
		// end idling

		// Graphics g = canvas1.getGraphics();
		var yy = 0;
		var yyb = 0;

		drawImage("imgGround", 0, 375);

		doorsCoins();

		// caged waddle dee
		if (level == maxLevel) {
			cagedExists = true;
		} else {
			cagedExists = false;
		}

		if (cagedExists) {
			xc = xDoor[level - 1] + 100;
			yc = yDoor[level - 1];
			drawImage(imgCurrentWaddle, xc, yc);
		}
		// end caged waddle dee

		if (level != maxLevel) 
    {
			platforms();
			enemy();
		} 

    else
     {
			whispywoods();
		}

		// if (imgCurrent == img)
		// g.drawImage(imgBlank, xkirby, ykirby, null);
		// else
		// g.drawImage(imgBlankK, xkirby, ykirby, null);

		// enter kirby
		drawImage(imgCurrent, xkirby, ykirby);
		//getContentPane().repaint(); // don't forget to repaint the container

		// enter bandana
		drawImage(imgCurrentBandana, xb, yb);
		//getContentPane().repaint(); // don't forget to repaint the container

		// getting coins
		var decreasecoinsflag = 0;
		// int tx, ty;
		for (var i = 0; i < coins; i++) {
			// kirby
			if (
			// (x + kirbywidth > coinx[i][level] -15 && x + kirbywidth < coinx[i][level] +
			// 15 && y >coiny[i][level]-5 && y < coiny[i][level] + 5)
			// ||
			// (x > coinx[i][level] +kirbywidth -15 && x < coinx[i][level] + kirbywidth + 15
			// && y >coiny[i][level]-5 && y < coiny[i][level] + 5)
			Math.abs(xkirby + kirbywidth / 2 - (coinx[i][level] + coinwidth / 2)) <= 25
					&& Math.abs(ykirby + kirbyheight / 2 - (coiny[i][level] + coinwidth / 2)) <= 25) {
			//	new Thread(() -> {
					playSound("coin.wav");
			//	}).start();
				drawImage("imgBlank", coinx[i][level], coiny[i][level]);
				decreasecoinsflag = true;
				coinsTaken++;
				// tx = coinx[i];ty = coiny[y];
				coinx[i][level] = coinx[coins - 1][level];
				coiny[i][level] = coiny[coins - 1][level];
				var c = coinsTaken + coinsTakenb;
				document.getElementById("jLabel3").innerText ="Coins: " + c;

			}

			// bandana
			if (
			// (xb + kirbywidth > coinx[i][level] -15 && xb + kirbywidth < coinx[i][level] +
			// 15 && yb >coiny[i][level]-5 && yb < coiny[i][level] + 5)
			// ||
			// (xb > coinx[i][level] +bandanawidth -15 && xb < coinx[i][level] +
			// bandanawidth + 15 && yb >coiny[i][level]-5 && yb < coiny[i][level] + 5)
			Math.abs(xb + bandanawidth / 2 - (coinx[i][level] + coinwidth / 2)) <= 25
					&& Math.abs(yb + bandanaheight / 2 - (coiny[i][level] + coinwidth / 2)) <= 25) {
		//		new Thread(() -> {
					playSound("coin.wav");
		//		}).start();
				drawImage("imgBlank", coinx[i][level], coiny[i][level]);
				decreasecoinsflag = true;
				coinsTakenb++;
				// tx = coinx[i];ty = coiny[y];
				coinx[i][level] = coinx[coins - 1][level];
				coiny[i][level] = coiny[coins - 1][level];
				// lblNewLabel.setText("Coins Waddle: " + coinsTakenb);
				c = coinsTaken + coinsTakenb;
				document.getElementById("jLabel3").innerText ="Coins: " + c;
			}
		}

		if (decreasecoinsflag) {
			coins--;

		}

		// release waddlee dee
		if (level == maxLevel && !cagedReleased)
			if (
			// (x + kirbywidth > coinx[i][level] -15 && x + kirbywidth < coinx[i][level] +
			// 15 && y >coiny[i][level]-5 && y < coiny[i][level] + 5)
			// ||
			// (x > coinx[i][level] +kirbywidth -15 && x < coinx[i][level] + kirbywidth + 15
			// && y >coiny[i][level]-5 && y < coiny[i][level] + 5)
			Math.abs(xkirby + kirbywidth / 2 - (xc + coinwidth / 2)) <= 75
					&& Math.abs(ykirby + kirbyheight / 2 - (yc + coinwidth / 2)) <= 75
					|| Math.abs(xb + bandanawidth / 2 - (xc + coinwidth / 2)) <= 75
							&& Math.abs(yb + bandanawidth / 2 - (yc + coinwidth / 2)) <= 75) {
				cagedReleased = true;
				imgCurrentWaddle = "imgFree";
				drawImage("imgFree", xc, yc);
				//getContentPane().repaint();
				//new Thread(() -> {
					playSound("release.wav"); 
			//	}).start();

			}

		// if (x<xDoor[level-1]+15 && x> xDoor[level-1] -15 && y<yDoor[level-1]+5 && y>
		// yDoor[level-1] -5)
		if ((xkirby + kirbywidth / 2 <= xDoor[level - 1] + doorwidth / 2 + 15
				&& xkirby + kirbywidth / 2 >= xDoor[level - 1] + doorwidth / 2 - 15
				&& Math.abs(ykirby + kirbyheight - yDoor[level - 1] - 75) <= 5)
				|| (xb + bandanawidth / 2 <= xDoor[level - 1] + doorwidth / 2 + 15
						&& xb + bandanawidth / 2 >= xDoor[level - 1] + doorwidth / 2 - 15
						&& Math.abs(yb + bandanaheight - yDoor[level - 1] - 75) <= 5))
			if (level == maxLevel) {
				if (cagedReleased) {
					//timer.stop();
					clearInterval(funcSetInterval);
          drawImage("imgVictory", 0, 0);
					//getContentPane().repaint();
					return;
				} else {
					jumpsfalls();
					return;
				}
			} else {

				initlevel();
				level++;
				document.getElementById("jLabel1").innerText ="Level: " + level;
				return;
			}

		jumpsfalls();


   }
   
   function jumpsfalls() {
		var yi = 0;
		var yib = 0;

		if (fallstart)
			fallkirby();
		if (jumpstarted)
			jumpkirby();

     
		if (fallstartb)
			fallbandana();
		if (jumpstartedb)
			jumpbandana();

		// spitkirby();
	kirbyfire();
	}

  function kirbyfire()
	{
		if (startspittingkirby) 
		{
			if (imgCurrent == "imgKirbyFireRight") 
			{
				drawImage("imgFireRight", xkirby+kirbywidth, ykirby+enemymouthy /*+enemymouthy*/);
				for (var i = 0;i<=2;i++) 
				{
					if(enemyExists[i][level])
					//todo
					if ((xe[i][level]<=xkirby+kirbywidth+191+5)&&(xe[i][level]>=xkirby+kirbywidth-5) && (Math.abs(ye[i][level] + ye[i][level]/2 - (ykirby +ykirby/2) )<=25)) 
					{
						drawImage("imgBlankE", xe[i][level], ye[i][level]);
						enemyExists[i][level] = false;
						//new Thread(() -> {
							playSound("die.wav");
					//	}).start();
					}
						
				}
			}
			else 
			{
				drawImage("imgFireLeft", xkirby - 191, ykirby+enemymouthy);
				for (var i = 0;i<=2;i++) 
				{
					if(enemyExists[i][level])
					//todo
					if ((xe[i][level]>=xkirby+191-5)&&(xe[i][level]<=xkirby+kirbywidth+5)&& (Math.abs(ye[i][level] + ye[i][level]/2 - (ykirby +ykirby/2) )<=25)) 
					{
						drawImage("imgBlankE", xe[i][level], ye[i][level]);
						enemyExists[i][level] = false;
						//new Thread(() -> {
							playSound("sounds/die.wav");
						//}).start();
					}
						
				}
				
			}
		}
	}

 function fallbandana() {
		var yib = 0;

		onmovingplatformb = 0;
		onplatformb = 0;
		if (imgCurrentBandana == "imgBandana")
			drawImage("imgBlankE", xb, yb);
		else
			drawImage("imgBlankE", xb, yb);
		//getContentPane().repaint(); // don't forget to repaint the container

		tb = tb + 1;
		// debugstefan vby = vb0y+(gravity*tb*tb)/2;
		vby = (gravity * tb * tb) / 2;

		yib = yb;
		yb = yb0 + vby * tb;

		// fall on a lower platform ?
		for (var i = 0; i < 4; i++) {
			// debug if (platform != i)
			if ((xb >= xplatform[i][level] - 35) && (xb + kirbywidth <= xplatform[i][level] + platformwidth[i] + 35))
				// debug if ((y0+vy*t+kirbywidth >=yplatform[i]-35) && (y0+vy*t+kirbywidth <=
				// yplatform[i]+35))
				if (yib + bandanaheight <= yplatform[i][level] && yb + bandanaheight >= yplatform[i][level]) {
					yb = yplatform[i][level] - bandanaheight;
					onplatformb = 1;
					platformb = i;
					jumpstartedb = 0;
					fallstartb = 0;
					tb = 0;
					vby = vb0y;
					if (movingplatform[i][level]) {
						onmovingplatformb = 1;
					}
				}
		}
		//

		drawImage(imgCurrentBandana, xb, yb);
		//getContentPane().repaint(); // don't forget to repaint the container
		if (1)
			return;

	}

	function jumpbandana() {
		var yib = 0;

		if (imgCurrentBandana == "imgBandana")
			drawImage("imgBlankE", xb, yb);
		else
			drawImage("imgBlankE", xb, yb, null);
		//getContentPane().repaint(); // don't forget to repaint the container

		onmovingplatformb = false;
		onplatformb = false;

		tb = tb + 1;
		vby = vb0y + (gravity * tb * tb) / 2;

		yib = yb;
		yb = yb0 + vby * tb;
		// y = y+vy*t;

		if (jumprightb) {
			if (xb + kirbywidth >= screenwidth) {
				xb = screenwidth - kirbywidth;
			} else
				xb = xb + 35;
		}
		if (jumpleftb) {
			if (xb <= 0) {
				xb = 0;
			} else
				xb = xb - 35;
		}

		// jump on platform ?
		for (var i = 0; i < 4; i++) {
			// if (platform != i)
			if ((xb >= xplatform[i][level] - 35) && (xb + bandanawidth <= xplatform[i][level] + platformwidth[i] + 35))
				// debug if ((y0+vy*t+kirbywidth >=yplatform[i]-35) && (y0+vy*t+kirbywidth <=
				// yplatform[i]+35))
				if (yib + bandanaheight <= yplatform[i][level] && yb + bandanaheight >= yplatform[i][level]) {
					yb = yplatform[i][level] - bandanaheight;
					onplatformb = 1;
					platformb = i;
					jumpstartedb = 0;
					tb = 0;
					vby = vb0y;
					if (movingplatform[i][level]) {
						onmovingplatformb = 1;
					}
				}
		}

		// jump up into ceiling ?
		for (var i = 0; i < 4; i++) {
			if ((xb >= xplatform[i][level] - 35) && (xb + bandanawidth <= xplatform[i][level] + platformwidth[i] + 35))
				if (yib >= yplatform[i][level] + platformheight && yb <= yplatform[i][level] + platformheight) {
					yb = yplatform[i][level] + platformheight;
					jumpstartedb = 0;
					tb = 0;
					vby = 0;
					fallstartb = 1;
				}
		}

		// end ceiling

		drawImage(imgCurrentBandana, xb, yb);
		//getContentPane().repaint(); // don't forget to repaint the container

	}


   function fallkirby() 
   {
		var yi = 0;
		// y+=10;
		onmovingplatform = false;
		onplatform = false;
		if (imgCurrent == "img")
			drawImage("imgBlank", xkirby, ykirby);
		else
			drawImage("imgBlankK", xkirby, ykirby);
		if (imgCurrent == "imgKirbyFireLeft" || imgCurrent == "imgKirbyFireRight")
			drawImage("imgBlankFireWide", xkirby, ykirby);
		//getContentPane().repaint(); // don't forget to repaint the container

		t = t + 1;
		// debugstefan vy = v0y+(gravity*t*t)/2;
		vy = (gravity * t * t) / 2;

		yi = ykirby;
		ykirby = y0 + vy * t;

		// fall on a lower platform ?
		for (var i = 0; i <= nrplatforms[level]; i++) {
			// debug if (platform != i)
			if ((xkirby >= xplatform[i][level] - 35)
					&& (xkirby + kirbywidth <= xplatform[i][level] + platformwidth[i] + 35))
				// debug if ((y0+vy*t+kirbywidth >=yplatform[i]-35) && (y0+vy*t+kirbywidth <=
				// yplatform[i]+35))
				if (yi + kirbyheight <= yplatform[i][level] && ykirby + kirbyheight >= yplatform[i][level]) {
					ykirby = yplatform[i][level] - kirbyheight;
					onplatform = 1;
					platform = i;
					jumpstarted = 0;
					fallstart = 0;
					t = 0;
					vy = v0y;
					if (movingplatform[i][level]) {
						onmovingplatform = true;
					}
				}
		}
		// end fall on platform

		drawImage(imgCurrent, xkirby, ykirby);
		//getContentPane().repaint(); // don't forget to repaint the container
		if (1)
			return;
	}

	function jumpkirby() 
  {
		var yi = 0;

		onmovingplatform = 0;

		if (imgCurrent == img)
			drawImage("imgBlank", xkirby, ykirby);
		else
			drawImage("imgBlankK", xkirby, ykirby);
		if (imgCurrent == "imgKirbyFireLeft" || imgCurrent == "imgKirbyFireRight")
			drawImage("imgBlankFireWide", xkirby, ykirby);
		//getContentPane().repaint(); // don't forget to repaint the container

		onplatform = 0;

		t = t + 1;
		vy = v0y + (gravity * t * t) / 2;

		yi = ykirby;
		ykirby = y0 + vy * t;
		// y = y+vy*t;

		if (jumpright) {
			if (xkirby + kirbywidth >= screenwidth) {
				xkirby = screenwidth - kirbywidth;
			} else
				xkirby = xkirby + 35;
		}
		if (jumpleft) {
			if (xkirby <= 0) {
				xkirby = 0;
			} else
				xkirby = xkirby - 35;
		}

		// jump on enemy ?

		// if (platform != i)
		for (var i = 0; i <= 3; i++)
			if (enemyExists[i][level])
				if ((xkirby >= xe[i][level] - 35) && (xkirby + kirbywidth <= xe[i][level] + kirbywidth + 35))
					// debug if ((y0+vy*t+kirbywidth >=yplatform[i]-35) && (y0+vy*t+kirbywidth <=
					// yplatform[i]+35))
					if (yi + kirbyheight <= ye[i][level] && ykirby + kirbyheight >= ye[i][level]) {
						// ?enemyDied = true;
						enemyExists[i][level] = false;
						drawImage("imgBlankSpit", xspit[i], yspit[i]);
						startspitting[i] = false;
						drawImage("imgBlankE", xe[i][level], ye[i][level]);
					//	new Thread(() -> {
							playSound("die.wav");
					//	}).start();
						// y = ye-kirbywidth;
						// onplatform = true;
						// platform = i;
						// jumpstarted = false;
						// t=0;
						// vy = v0y;
					}

		// end jump on enemy

		// jump on platform ?
		for (var i = 0; i <= nrplatforms[level]; i++) {
			// if (platform != i)
			if ((xkirby >= xplatform[i][level] - 35)
					&& (xkirby + kirbywidth <= xplatform[i][level] + platformwidth[i] + 35))
				// debug if ((y0+vy*t+kirbywidth >=yplatform[i]-35) && (y0+vy*t+kirbywidth <=
				// yplatform[i]+35))
				if (yi + kirbyheight <= yplatform[i][level] && ykirby + kirbyheight >= yplatform[i][level]) {
					ykirby = yplatform[i][level] - kirbyheight;
					onplatform = 1;
					platform = i;
					jumpstarted = 0;
					t = 0;
					vy = v0y;
					if (movingplatform[i][level]) {
						onmovingplatform = 1;
					}
				}
		}
		// end jump on platform

		// jump up into ceiling ?
		for (var i = 0; i <= nrplatforms[level]; i++) {
			if ((xkirby >= xplatform[i][level] - 35)
					&& (xkirby + kirbywidth <= xplatform[i][level] + platformwidth[i] + 35))
				if (yi >= yplatform[i][level] + platformheight && ykirby <= yplatform[i][level] + platformheight) {
					ykirby = yplatform[i][level] + platformheight;
					jumpstarted = 0;
					t = 0;
					vy = 0;
					fallstart = 1;
				}
		}

		// end ceiling

		drawImage(imgCurrent, xkirby, ykirby);
		//getContentPane().repaint(); // don't forget to repaint the container

	}

  
  function doorsCoins() {
		if (level == 2) {
			xDoor[level - 1] = xplatform[3][level] + 40;
			yDoor[level - 1] = yplatform[3][level] - 75;
			drawImage("imgDoor", xDoor[level - 1], yDoor[level - 1]);

			for (var i = 0; i < coins; i++) {
				drawImage("imgCoin", coinx[i][2], coiny[i][2]);
			}
		}

		if (level == 1) {
			xDoor[level - 1] = screenwidth / 2; // screenwidth - 75;
			yDoor[level - 1] = 300;
			drawImage("imgDoor", xDoor[level - 1], yDoor[level - 1]);

			for (var i = 0; i < coins; i++) {
				drawImage("imgCoin", coinx[i][1], coiny[i][1]);
			}
		}

		if (level == 3) {
			xDoor[level - 1] = screenwidth / 2; // screenwidth - 75;
			yDoor[level - 1] = 300;
			drawImage("imgDoor", xDoor[level - 1], yDoor[level - 1]);

			for (var i = 0; i < coins; i++) {
				drawImage("imgCoin", coinx[i][3], coiny[i][3]);
			}
		}

		if (level == 4) {
			xDoor[level - 1] = screenwidth / 2; // screenwidth - 75;
			yDoor[level - 1] = 225 - doorHeight;
			drawImage("imgDoor", xDoor[level - 1], yDoor[level - 1]);

			// for (int i=0;i<coins;i++)
			// {
			// g.drawImage(imgCoin, coinx[i][3],coiny[i][3], null);
			// }
		}

		if (level == 5) {
			xDoor[level - 1] = screenwidth / 2; // screenwidth - 75;
			yDoor[level - 1] = 300;
			drawImage("imgDoor", xDoor[level - 1], yDoor[level - 1]);

			// for (int i=0;i<coins;i++)
			// {
			// g.drawImage(imgCoin, coinx[i][3],coiny[i][3], null);
			// }
		}

		if (level == 6) {
			xDoor[level - 1] = screenwidth / 2; // screenwidth - 75;
			yDoor[level - 1] = 300;
			drawImage("imgDoor", xDoor[level - 1], yDoor[level - 1]);

			// for (int i=0;i<coins;i++)
			// {
			// g.drawImage(imgCoin, coinx[i][3],coiny[i][3], null);
			// }
		}

	}

  function platforms() {
		// moving platform
		for (var i = 1; i <= nrplatforms[level]; i++) {
			if (movingplatform[i][level]) {

				drawImage("imgBlankForPlatform", xplatform[i][level], yplatform[i][level], null);
				if (platformdirection[i][level] < 0) {
					xplatform[i][level] -= 5;
					if (onmovingplatform) {
						drawImage("imgBlankK", xkirby, ykirby);
					//	getContentPane().repaint();
						xkirby -= 5;
					}
					if (onmovingplatformb) {
						if (imgCurrentBandana == "imgBandana")
							drawImage(imgBlankE, xb, yb);
						else
							drawImage(imgBlankB, xb, yb);
						getContentPane().repaint();
						xb -= 5;
					}
					if (xplatform[i][level] <= platformminx[i][level]) {

						platformdirection[i][level] = 1;
					}
				} else {
					xplatform[i][level] += 5;
					if (onmovingplatform) {
						drawImage("imgBlankK", xkirby, ykirby);
						//getContentPane().repaint();
						xkirby += 5;
					}
					if (onmovingplatformb) {
						if (imgCurrentBandana == "imgBandana")
							drawImage(imgBlankE, xb, yb);
						else
							drawImage(imgBlankB, xb, yb);
						getContentPane().repaint();
						xb += 5;
					}
					if (xplatform[i][level] >= platformmaxx[i][level]) {
						platformdirection[i][level] = -1;
					}

				}

//    		//platform hits kirby
//    		if (ykirby>=yplatform[i][level]+platformheight -5 && ykirby<=yplatform[i][level]+platformheight + 5)
//    		if ((xplatform[i][level]<=xkirby+kirbywidth +5 && xplatform[i][level] >= xkirby-5)||(xplatform[i][level]+kirbywidth >=xkirby - 5 && xplatform[i][level]+kirbywidth <= xkirby + 5))
//    		{
//    			 g.drawImage(imgBlank, xkirby, ykirby, null);
//    			 getContentPane().repaint();
//    			 xkirby = 0;ykirby=300;
//    			 lifeKirby.setValue(lifeKirby.getValue()-33);
//    			 new Thread(() -> {
//    		          playSound("sounds/die.wav");
//    		      }).start();
//    		}//end hits kirby
//    		
//    		//platform hits bandana
//    			if (yb>=yplatform[i][level]+platformheight -5 && yb<=yplatform[i][level]+platformheight + 5)
//    			if ((xplatform[i][level]<=xb+bandanawidth +5 && xplatform[i][level] >= xb-5)||(xplatform[i][level]+bandanawidth >=xb - 5 && xplatform[i][level]+bandanawidth <= xb + 5))
//    			{
//    				 g.drawImage(imgBlank, xb, yb, null);
//    				 getContentPane().repaint();
//    				 xb = screenwidth-bandanawidth;ykirby=300;
//    				 pbBandana.setValue(pbBandana.getValue()-33);
//    				 new Thread(() -> {
//    			          playSound("sounds/die.wav");
//    			      }).start();
//    			}//end hits bandana

			} // end movingplatform

		}

		for (var i = 1; i <= nrplatforms[level]; i++) {
			drawImage("imgPlatform", xplatform[i][level], yplatform[i][level]);
		}

	}

  function initcoins() {
		// level 1
		coinx[0][1] = 125;
		coiny[0][1] = 300;

		coinx[1][1] = 250;
		coiny[1][1] = 300;

		coinx[2][1] = 400;
		coiny[2][1] = 300;

		// level 2
		coinx[0][2] = 200;
		coiny[0][2] = 300;

		coinx[1][2] = xplatform[2][2] + platformwidth[2] / 2 - coinwidth / 2;// 300;
		coiny[1][2] = yplatform[2][2] - kirbyheight; // 300

		coinx[2][2] = 450;
		coiny[2][2] = 300;

		// level 3
		coinx[0][3] = 125;
		coiny[0][3] = 300;

		coinx[1][3] = 250;
		coiny[1][3] = 300;

		coinx[2][3] = 400;
		coiny[2][3] = 300;
	}

  function initplatforms() {
		// level 1
		yplatform[0][1] = 375;
		yplatform[1][1] = 225;
		yplatform[2][1] = 140;
		yplatform[3][1] = 225;

		xplatform[0][1] = 0;
		xplatform[1][1] = 150;
		xplatform[2][1] = 300;
		xplatform[3][1] = 430;

		// level 2
		yplatform[0][2] = 375;
		yplatform[1][2] = 225;
		yplatform[2][2] = 150;
		yplatform[3][2] = 80;

		xplatform[0][2] = 0;
		xplatform[1][2] = 150;
		xplatform[2][2] = 250;
		xplatform[3][2] = 350;

		// level 3
		yplatform[0][3] = 375;
		yplatform[1][3] = 225;
		yplatform[2][3] = 140;
		yplatform[3][3] = 225;

		xplatform[0][3] = 0;
		xplatform[1][3] = 150;
		xplatform[2][3] = 300;
		xplatform[3][3] = 430;

		// level 4
		yplatform[0][4] = 375;
		yplatform[1][4] = 225;
		yplatform[2][4] = 225;
		yplatform[3][4] = 225;

		xplatform[0][4] = 0;
		xplatform[1][4] = 150;
		xplatform[2][4] = 300;
		xplatform[3][4] = 430;

		// level 1
		movingplatform[0][1] = false;
		movingplatform[1][1] = false;
		movingplatform[2][1] = false;
		movingplatform[3][1] = false;

		// level 2
		movingplatform[0][2] = false;
		movingplatform[1][2] = false;
		movingplatform[2][2] = true;
		movingplatform[3][2] = false;

		// level 3
		movingplatform[0][3] = false;
		movingplatform[1][3] = true;
		movingplatform[2][3] = false;
		movingplatform[3][3] = false;

		// level 4
		movingplatform[0][4] = false;
		movingplatform[1][4] = false;
		movingplatform[2][4] = false;
		movingplatform[3][4] = false;

		// level 1
		platformmaxx[0][1] = xplatform[0][1] + platformrange;
		platformmaxx[1][1] = xplatform[1][1] + platformrange;
		;
		platformmaxx[2][1] = xplatform[2][1] + platformrange;
		;
		platformmaxx[3][1] = xplatform[3][1] + platformrange;
		;

		// level 2
		platformmaxx[0][2] = xplatform[0][2] + platformrange;
		;
		platformmaxx[1][2] = xplatform[1][2] + platformrange;
		;
		platformmaxx[2][2] = xplatform[2][2] + platformrange;
		;
		platformmaxx[3][2] = xplatform[3][2] + platformrange;
		;

		// level 3
		platformmaxx[0][3] = xplatform[0][3] + platformrange;
		;
		platformmaxx[1][3] = xplatform[1][3] + platformrange;
		;
		platformmaxx[2][3] = xplatform[2][3] + platformrange;
		;
		platformmaxx[3][3] = xplatform[3][3] + platformrange;
		;

		// level 4
		platformmaxx[0][4] = 0;
		;
		platformmaxx[1][4] = 0;
		;
		platformmaxx[2][4] = 0;
		;
		platformmaxx[3][4] = 0;
		;

		// level 1
		platformminx[0][1] = xplatform[0][1];
		platformminx[1][1] = xplatform[1][1];
		platformminx[2][1] = xplatform[2][1];
		platformminx[3][1] = xplatform[3][1];

		// level 2
		platformminx[0][2] = xplatform[0][2];
		platformminx[1][2] = xplatform[1][2];
		platformminx[2][2] = xplatform[2][2];
		platformminx[3][2] = xplatform[3][2];

		// level 3
		platformminx[0][3] = xplatform[0][3];
		platformminx[1][3] = xplatform[1][3];
		platformminx[2][3] = xplatform[2][3];
		platformminx[3][3] = xplatform[3][3];

		// level 4
		platformminx[0][4] = 0;
		platformminx[1][4] = 0;
		platformminx[2][4] = 0;
		platformminx[3][4] = 0;

		// level 1
		platformdirection[0][1] = -1;
		platformdirection[1][1] = -1;
		platformdirection[2][1] = -1;
		platformdirection[3][1] = -1;

		// level 2
		platformdirection[0][2] = -1;
		platformdirection[1][2] = -1;
		platformdirection[2][2] = -1;
		platformdirection[3][2] = -1;

		// level 3
		platformdirection[0][3] = -1;
		platformdirection[1][3] = -1;
		platformdirection[2][3] = -1;
		platformdirection[3][3] = -1;

		// level 4
		platformdirection[0][4] = 0;
		platformdirection[1][4] = 0;
		platformdirection[2][4] = 0;
		platformdirection[3][4] = 0;
	}


  function initlevel() {
		drawImage("imgBlankK", xkirby, ykirby, null);
		drawImage("imgBlankB", xb, yb, null);
	document.getElementById("jLabel1").innerText="Level: " + level;
		coins = 3;
		xkirby = xinit;
		ykirby = yinit;
		if (hashat) {
			ykirby = ykirby - 32;
		}
		xb = xbinit; // screenwidth-kirbywidth;
		yb = ybinit;
		platform = 0;
		onplatform = 1;
		coins = 3; // oare ? coinsTaken = 0;
		platformb = 0;
		onplatformb = 1;

		onmovingplatform = 0;
		onmovingplatformb = 0;
		for (var i = 0; i <= 3; i++) {
			aspiring[i] = false;
			if (enemydirection[i][level] == -1) {
				// imgEnemyCurrent[i] = imgEnemyLeft;
				if (enemySpitting[i][level]) {
					imgEnemyCurrent[i] = "imgHotHeadLeft";
				} else {
					imgEnemyCurrent[i] = "imgEnemyLeft";
				}
			}
			if (enemydirection[i][level] == 1) {
				// imgEnemyCurrent[i] = imgEnemyRight;
				if (enemySpitting[i][level]) {
					imgEnemyCurrent[i] = "imgHotHeadRight";
				} else {
					imgEnemyCurrent[i] = "imgEnemyRight";
				}
			}
		}
		// obsolete enemydirection[i][level] = -1;

		// ?
		// coinx[0][level] = 300;coinx[1][level]=200;coinx[2][level]=500;
		// coiny[0][level] = 300;coiny[1][level]=300;coiny[2][level]=300;

		for (var i = 1; i <= nrplatforms[level]; i++) {
			drawImage("imgBlankForPlatform", xplatform[i][level], yplatform[i][level]);
		}

		for (var i = 0; i <= 2; i++) {
			drawImage("imgBlank", coinx[i][level], coiny[i][level]);
		}

		for (var i = 0; i <= 2; i++) {
			drawImage("imgBlankE", xe[i][level], ye[i][level]);
		}

		 initcoins();

		drawImage("imgBlankE", xDoor[level - 1], yDoor[level - 1]);

		//getContentPane().repaint();

		if (level == maxLevel - 1) 
		{
			// th.stop();
			// th.interrupt();
			// player.stop();
			// timer.stop();
			// player.pause();
			// player.seek(0);
			// player.dispose();
			// playermp3.stop();
			// playMidiFX("dangerous.mp3");
			//TODO !!MediaPlayer p = getById(playerId);
			x = document.getElementById('mySound');
			x.pause();
			x.setAttribute("src", "sounds/dangerous.mp3")
  			x.play();

		}

		// if (playermp3.getStatus() == MediaPlayer.Status.PLAYING)
		// {playermp3.stop();}else playermp3.play();

		
	}


//////////////// ENEMY
function enemy() {
  	   

		for (var i = 0; i <= 3; i++) {
			if (enemyExists[i][level]) {
				drawImage(imgEnemyCurrent[i], xe[i][level], ye[i][level]); // debustefan
			//	getContentPane().repaint(); // debugstefan 


				if (imgEnemyCurrent[i] == "imgEnemyLeft") {
					drawImage("imgEnemyLeftMask", xe[i][level], ye[i][level]);
				}
				if (imgEnemyCurrent[i] == "imgEnemyRight") {
					drawImage("imgEnemyRightMask", xe[i][level], ye[i][level]);
				}
				if (imgEnemyCurrent[i] == "imgEnemyHorizontal") {
					drawImage("imgBlankE", xe[i][level], ye[i][level]);
				}
				if (imgEnemyCurrent[i] == "imgHotHeadHorizontal") {
					drawImage("imgBlankE", xe[i][level], ye[i][level]);
				}
				if (imgEnemyCurrent[i] == "imgHotHeadLeft") {
					drawImage("imgHotHeadLeftMask", xe[i][level], ye[i][level]);
				}
				if (imgEnemyCurrent[i] == "imgHotHeadRight") {
					drawImage("imgHotHeadRightMask", xe[i][level], ye[i][level]);
				}
				//getContentPane().repaint();



				if (!aspiring[i]) {
					if (enemydirection[i][level] < 0) {
						// g.drawImage(imgBlankE, xe[i][level], ye[i][level], null);
						// g.drawImage(imgEnemyLeftMask, xe[i][level], ye[i][level], null);
						xe[i][level] -= 5;
						// g.drawImage(imgEnemyCurrent[i], xe[i][level], ye[i][level], null);
					//	getContentPane().repaint();

						if (xe[i][level] <= enemyminx[i][level]) {
							if (enemySpitting[i][level]) {
								imgEnemyCurrent[i] = "imgHotHeadRight";
							} else {
								imgEnemyCurrent[i] = "imgEnemyRight";
							}
							enemydirection[i][level] = 1;
						}
					} else {
						// g.drawImage(imgBlankE, xe[i][level], ye[i][level], null);
						// g.drawImage(imgEnemyRightMask, xe[i][level], ye[i][level], null);
						xe[i][level] += 5;
						// g.drawImage(imgEnemyCurrent[i], xe[i][level], ye[i][level], null);
						//getContentPane().repaint();

						if (xe[i][level] >= enemymaxx[i][level]) {
							if (enemySpitting[i][level]) {
								imgEnemyCurrent[i] = "imgHotHeadLeft";
							} else {
								imgEnemyCurrent[i] = "imgEnemyLeft";
							}
							enemydirection[i][level] = -1;
						}

					}

					// spit
					if (!startspitting[i] && enemySpitting[i][level]) {
						startspitting[i] = true;
						xspit[i] = xe[i][level];
						yspit[i] = ye[i][level] + enemymouthy;
						spitdirection[i] = enemydirection[i][level];
					}

					if (startspitting[i]) {
						drawImage("imgBlankSpit", xspit[i], yspit[i]);
						xspit[i] += 10 * spitdirection[i];
						// shoot kirby
						if (Math.abs(xkirby + kirbywidth / 2 - xspit[i]) <= 10
								&& Math.abs(ykirby + kirbyheight / 2 - yspit[i]) <= 40) {
							drawImage("imgBlankK", xkirby, ykirby, null);
							xkirby = xinit;
							ykirby = yinit;
						//	lifeKirby.setValue(lifeKirby.getValue() - 33);
            currentLifeKirby = document.getElementById("lifeKirby").getAttribute('value');
						document.getElementById("lifeKirby").setAttribute('value', currentLifeKirby - 33) ;
            //	new Thread(() -> {
								playSound("sounds/die.wav");
						//	}).start();

							startspitting[i] = false;
						}
						// shoot bandana
						if (Math.abs(xb + bandanawidth / 2 - xspit[i]) <= 10
								&& Math.abs(yb + bandanaheight / 2 - yspit[i]) <= 40) {
							drawImage("imgBlankB", xb, yb, null);
							xb = xbinit;
							yb = ybinit;
							pbBandana.setValue(pbBandana.getValue() - 33);
						//	new Thread(() -> {
								playSound("sounds/die.wav");
						//	}).start();

							startspitting[i] = false;
						}
						if (xspit[i] < 0 || xspit[i] > screenwidth) {

							startspitting[i] = false;
						}

					}
					//

					// eat kirby
					if (ykirby + kirbyheight == ye[i][level] + enemyheight)
						if ((xe[i][level] <= xkirby + kirbywidth + 5 && xe[i][level] >= xkirby - 5)
								|| (xe[i][level] + kirbywidth >= xkirby - 5
										&& xe[i][level] + kirbywidth <= xkirby + 5)) {
							drawImage("imgBlankK", xkirby, ykirby);
							xkirby = xinit;
							ykirby = yinit;
						//	lifeKirby.setValue(lifeKirby.getValue() - 33);
            currentLifeKirby = document.getElementById("lifeKirby").getAttribute('value');
						document.getElementById("lifeKirby").setAttribute('value', currentLifeKirby - 33) ;
            //	new Thread(() -> {
								playSound("sounds/die.wav");
						//	}).start();
						} // end eat kirby

					// eat Bandana
					if (yb + bandanaheight == ye[i][level] + enemyheight)
						if ((xe[i][level] <= xb + bandanawidth + 5 && xe[i][level] >= xb - 5)
								|| (xe[i][level] + bandanawidth >= xb - 5 && xe[i][level] + bandanawidth <= xb + 5)) {
							if (imgCurrentBandana == "imgBandana")
								drawImage(imgBlankE, xb, yb, null);
							else
								drawImage(imgBlankB, xb, yb, null);
							xb = screenwidth - bandanawidth;
							yb = 300;
							pbBandana.setValue(pbBandana.getValue() - 33);
							//new Thread(() -> {
								playSound("sounds/die.wav");
						//	}).start();
						} // end eat bandana

				} // end not aspiring

				// enemy aspired
				if (aspiring[i]) {
					if (xe[i][level] >= xkirby) {
						if (xe[i][level] <= xkirby + kirbywidth + 5) {
							aspiring[i] = 0;
							drawImage("imgBlank", xe[i][level], ye[i][level]);
							// ? enemyDied[i][level] = true;
							enemyExists[i][level] = 0;
							startspitting[i] = 0;
							drawImage("imgBlankSpit", xspit[i], yspit[i]);
							if (!hashat)
								imgCurrent = "imgKirbyRight";
							else
								imgCurrent = "imgKirbyFireRight";
						//	new Thread(() -> {
								playSound("die.wav");
						//	}).start();
						} else {
							xe[i][level] -= 15;
						}
					} else {
						if (xe[i][level] + kirbywidth >= xkirby - 5) {
							aspiring[i] = 0;
							drawImage("imgBlank", xe[i][level], ye[i][level]);
							// ? enemyDied = true;
							enemyExists[i][level] = 0;
							startspitting[i] = 0;
							drawImage("imgBlankSpit", xspit[i], yspit[i]);
							if (!hashat)
								imgCurrent = "imgKirbyLeft";
							else
								imgCurrent = "imgKirbyFireLeft";
						//	new Thread(() -> {
								playSound("sounds/die.wav");
						//	}).start();
						} else {
							xe[i][level] += 15;
						}
					}
				}

				if (enemyExists[i][level]) {
					drawImage(imgEnemyCurrent[i], xe[i][level], ye[i][level]);
				//	getContentPane().repaint();
					if (enemySpitting[i][level] && startspitting[i]) {
						if (spitdirection[i] == -1) {
							drawImage("imgSpitLeft", xspit[i], yspit[i]);
						} else {
							drawImage("imgSpitRight", xspit[i], yspit[i]);
						}
						//getContentPane().repaint();
					}
				}
			}
		} // end enemy exists

		// getContentPane().repaint();
	}
/////////////// END ENEMY

function initenemies() {
		// level 1
		enemyExists[0][1] = false;
		enemyExists[1][1] = false;
		enemyExists[2][1] = false;
		enemyExists[3][1] = false;

		// level 2
		enemyExists[0][2] = false;
		enemyExists[1][2] = false;
		enemyExists[2][2] = false;
		enemyExists[3][2] = false;

		// level 3
		enemyExists[0][3] = false;
		enemyExists[1][3] = true;
		enemyExists[2][3] = false;
		enemyExists[3][3] = false;

		// level 4
		enemyExists[0][4] = false;
		enemyExists[1][4] = true;
		enemyExists[2][4] = true;
		enemyExists[3][4] = false;

		// level 1
		enemySpitting[0][1] = false;
		enemySpitting[1][1] = false;
		enemySpitting[2][1] = false;
		enemySpitting[3][1] = false;

		// level 2
		enemySpitting[0][2] = false;
		enemySpitting[1][2] = false;
		enemySpitting[2][2] = false;
		enemySpitting[3][2] = false;

		// level 3
		enemySpitting[0][3] = false;
		enemySpitting[1][3] = false;
		enemySpitting[2][3] = false;
		enemySpitting[3][3] = false;

		// level 4
		enemySpitting[0][4] = false;
		enemySpitting[1][4] = false;
		enemySpitting[2][4] = false;
		enemySpitting[3][4] = false;

		// level 1
		enemydirection[0][1] = -1;
		enemydirection[1][1] = -1;
		enemydirection[2][1] = -1;
		enemydirection[3][1] = -1;

		// level 2
		enemydirection[0][2] = -1;
		enemydirection[1][2] = -1;
		enemydirection[2][2] = -1;
		enemydirection[3][2] = -1;

		// level 3
		enemydirection[0][3] = -1;
		enemydirection[1][3] = -1;
		enemydirection[2][3] = 1;
		enemydirection[3][3] = -1;

		// level 4
		enemydirection[0][4] = -1;
		enemydirection[1][4] = -1;
		enemydirection[2][4] = 1;
		enemydirection[3][4] = -1;

		// level 1
		xe[0][1] = 300;
		xe[1][1] = 300;
		xe[2][1] = 300;
		xe[3][1] = 300;

		// level 2
		xe[0][2] = 300;
		xe[1][2] = 300;
		xe[2][2] = 300;
		xe[3][2] = 300;

		// level 3
		xe[0][3] = 300;
		xe[1][3] = 300;
		xe[2][3] = 100;
		xe[3][3] = 300;

		// level 4
		xe[0][4] = 300;
		xe[1][4] = 500;
		xe[2][4] = 300;
		xe[3][4] = 300;

		// level 1
		ye[0][1] = 300;
		ye[1][1] = 300;
		ye[2][1] = 300;
		ye[3][1] = 300;

		// level 2
		ye[0][2] = 300;
		ye[1][2] = 300;
		ye[2][2] = 300;
		ye[3][2] = 300;

		// level 3
		ye[0][3] = 300;
		ye[1][3] = 300;
		ye[2][3] = 300;
		ye[3][3] = 300;

		// level 4
		ye[0][4] = yplatform[0][4] - 75;
		ye[1][4] = yplatform[1][4] - 75;
		ye[2][4] = yplatform[2][4] - 75;
		ye[3][4] = yplatform[3][4] - 75;

		// level 1
		enemymaxx[0][1] = xe[0][1] + platformrange;
		enemymaxx[1][1] = xe[1][1] + platformrange;
		enemymaxx[2][1] = xe[2][1] + platformrange;
		enemymaxx[3][1] = xe[3][1] + platformrange;

		// level 2
		enemymaxx[0][2] = xe[0][2] + platformrange;
		enemymaxx[1][2] = xe[1][2] + platformrange;
		enemymaxx[2][2] = xe[2][2] + platformrange;
		enemymaxx[3][2] = xe[3][2] + platformrange;

		// level 3
		enemymaxx[0][3] = xe[0][3] + platformrange;
		enemymaxx[1][3] = xe[1][3];
		enemymaxx[2][3] = xe[2][3] + platformrange;
		enemymaxx[3][3] = xe[3][3] + platformrange;

		// level 4
		enemymaxx[0][4] = xe[0][4] + platformrange;
		enemymaxx[1][4] = xe[1][4];
		enemymaxx[2][4] = xe[2][4] + platformrange;
		enemymaxx[3][4] = xe[3][4] + platformrange;

		// level 1
		enemyminx[0][1] = xe[0][1];
		enemyminx[1][1] = xe[1][1];
		enemyminx[2][1] = xe[2][1];
		enemyminx[3][1] = xe[3][1];

		// level 2
		enemyminx[0][2] = xe[0][2];
		enemyminx[1][2] = xe[0][2];
		enemyminx[2][2] = xe[2][2];
		enemyminx[3][2] = xe[3][2];

		// level 3
		enemyminx[0][3] = xe[0][3];
		enemyminx[1][3] = xe[1][3] - platformrange;
		enemyminx[2][3] = xe[2][3];
		enemyminx[3][3] = xe[3][3];

		// level 4
		enemyminx[0][4] = xe[0][4];
		enemyminx[1][4] = xe[1][4] - platformrange;
		enemyminx[2][4] = xe[2][4];
		enemyminx[3][4] = xe[3][4];

	}


  function level5() {
		copylevel(4, 5);
		enemyExists[3][5] = true;
		enemyminx[3][5] = 100;
		enemymaxx[3][5] = 100 + platformrange;
		xe[3][5] = 100;
		ye[3][5] = 300;

		enemySpitting[3][5] = true;
	}

	function level6() {
		copylevel(5, 6);
		enemyExists[3][6] = false;
		// useless enemySpitting[3][6] = false;
	}

  function copylevel(levelSource, levelDest) {

// copy coins
for (var i = 0; i <= 2; i++) {
  coinx[i][levelDest] = coinx[i][levelSource];
  coiny[i][levelDest] = coiny[i][levelSource];
}

// copy platforms
for (var i = 0; i <= 3; i++) {
  xplatform[i][levelDest] = xplatform[i][levelSource];
  yplatform[i][levelDest] = yplatform[i][levelSource];
  movingplatform[i][levelDest] = movingplatform[i][levelSource];
  platformminx[i][levelDest] = platformminx[i][levelSource];
  platformmaxx[i][levelDest] = platformmaxx[i][levelSource];
  platformdirection[i][levelDest] = platformdirection[i][levelSource];
}

// copy enemies
for (var i = 0; i <= 3; i++) {
  xe[i][levelDest] = xe[i][levelSource];
  ye[i][levelDest] = ye[i][levelSource];
  enemyExists[i][levelDest] = enemyExists[i][levelSource];
  enemydirection[i][levelDest] = enemydirection[i][levelSource];
  enemymaxx[i][levelDest] = enemymaxx[i][levelSource];
  enemyminx[i][levelDest] = enemyminx[i][levelSource];
  enemySpitting[i][levelDest] = enemySpitting[i][levelSource];
}

}

function whispywoods()
	{
		if (level == maxLevel) //maxLevel
		{
			drawImage("imgWhispy", xwhispy, ywhispy);
			//getContentPane().repaint();
		
			drawImage("imgBlankApple", xapple, yapple);
			
			// apple kills kirby
			if (
					(yapple+appleheight >= ykirby - 15)	
					&&
				//	(Math.abs(ykirby+kirbyheight/2-(yapple+appleheight/2))<=25)
					(Math.abs(xkirby+kirbywidth/2-(xapple+applewidth/2))<=45)
				) 
				{
					drawImage("imgBlankFireWide", xkirby, ykirby);
					xkirby = xinit;
					ykirby = yinit;
					if (hashat)
					{
						ykirby = ykirby - 32;
					}
          currentLifeKirby = document.getElementById("lifeKirby").getAttribute('value');
						document.getElementById("lifeKirby").setAttribute('value', currentLifeKirby - 33) ;
					//new Thread(() -> {
						playSound("sounds/die.wav");
				//	}).start();
				} // end apple kills kirby
			
			if (yapple>=280) 
			{   
				yapple = y0apple;
				xapple =  150+Math.floor(Math.random() * 250);//rand.nextInt(250)+150;
			}
			else 
			{
				yapple += 5;
				drawImage("imgApple", xapple, yapple);
			}
		}
	}

    /**
     * Creates new form PlatformJFrame
     */
    function PlatformJFrame()
     {
      //  initComponents();
        var TIMER_DELAY = 100;
        
     
      level = 1;
    initcoins();
		initplatforms();
	  initenemies();

    level5();
		level6();
       
    for (var i = 0; i <= 3; i++) {
			if (enemydirection[i][1] == -1) {
				if (enemySpitting[i][level]) {
					imgEnemyCurrent[i] = "imgHotHeadLeft";
				} else {
					imgEnemyCurrent[i] = "imgEnemyLeft";
				}
			} else {
				if (enemySpitting[i][level]) {
					imgEnemyCurrent[i] = "imgHotHeadRight";
				} else {
					imgEnemyCurrent[i] = "imgEnemyRight";
				}
			}
		}
        //TODO
         //g = canvas1.getGraphics();
        // canvas1.setBackground(new Color(0, 162, 232)); /// !!!! IMPORTANT !!
         
    

//    playSound("running.mp3");
   
   
    imgCurrent = "img";
    imgCurrentBandana = "imgBandana";
    imgCurrentWaddle = "imgCaged";
    //imgEnemyCurrent = "imgEnemyLeft";
   
   //enemy
   //if (boolenemyExists)
   //{
   	// drawImage(imgEnemyCurrent, xe, ye);	
   //}
   
   
   document.getElementById("jLabel1").innerText = "Level: " + level;
   
  // document.getElementById("jLabel3").innerText = "";
   //jLabel3.setText("Coins Kirby: 0");
  
  
   
   
     // new javax.swing.Timer(TIMER_DELAY, (ActionEvent e) -> {
     //     gameLoop();
     //   }).start();
     funcSetInterval = setInterval(gameLoop, 100);
         
    }


  
    
   

   function _DoMovement()
        {
            if (bool_moveLeft) MoveLeft();
            if (bool_moveRight) MoveRight();
        }
      
    function _DoMovementb()
      {
          if (bool_moveLeftb) MoveLeftb();
          if (bool_moveRightb) MoveRightb();
      }
      
      function MoveLeft() {

if (imgCurrent == "img")
  drawImage("imgBlankK", xkirby, ykirby);
else
  drawImage("imgBlank", xkirby, ykirby);
if (imgCurrent == "imgKirbyFireLeft") {
  drawImage("imgBlankFireWide", xkirby, ykirby);
}

//getContentPane().repaint(); // don't forget to repaint the container

// kirby hits bandana left
if (ykirby + kirbyheight == yb + bandanaheight)
  // if ((xkirby<=xb+bandanawidth +5 && xkirby >= xb-5)||(xkirby+kirbywidth >=xb -
  // 5 && xkirby+kirbywidth <= xb + 5))
  // if ((xkirby <= xb +bandanawidth + 5) && (xkirby >= xb + bandanawidth - 5))
  if (Math.abs(xkirby - xb - bandanawidth) <= 5) {
    drawImage(imgCurrent, xkirby, ykirby);
    //getContentPane().repaint(); // don't forget to repaint the container
    return;
  } // end kirby hits banana left

for (var i = 1; i < 4; i++)
  if (ykirby <= yplatform[i][level] + platformheight && ykirby >= yplatform[i][level]
      && xkirby <= xplatform[i][level] + platformwidth[i] + 5
      && xkirby >= xplatform[i][level] + platformwidth[i] - 5) {
    drawImage(imgCurrent, xkirby, ykirby, null);
   // getContentPane().repaint(); // don't forget to repaint the container
    return;
  }

if (xkirby > 0) {
  xkirby -= 10;
  if ((onplatform) && (xkirby + kirbywidth <= xplatform[platform][level] - 5)) {
    fallstart = 1;
    ykirby = y0;
    v0y = 0;
  }
}
drawImage(imgCurrent, xkirby, ykirby);
//getContentPane().repaint(); // don't forget to repaint the container
}

       function MoveRight()
        {
              if (imgCurrent == "img")
          drawImage("imgBlankK", xkirby, ykirby);
        else
          drawImage("imgBlank", xkirby, ykirby);
        if (imgCurrent == "imgKirbyFireRight") {
          drawImage("imgBlankFireWide", xkirby, ykirby);
        }

      //	getContentPane().repaint(); // don't forget to repaint the container

        // kirby hits bandana right
        if (ykirby + kirbyheight == yb + bandanaheight)
          // if ((xkirby<=xb+bandanawidth +5 && xkirby >= xb-5)||(xkirby+kirbywidth >=xb -
          // 5 && xkirby+kirbywidth <= xb + 5))
          if (Math.abs(xkirby + kirbywidth - xb) <= 5)
          // if (xkirby < xb-kirbywidth)
          // if (Math.abs(xkirby+kirbywidth/2 - (xb+bandanawidth/2))<=25)
          {
            // xkirby = xkirby - 25;
            drawImage(imgCurrent, xkirby, ykirby);
          //	getContentPane().repaint(); // don't forget to repaint the container
            return;
          } // end kirby hits banana

        if (xkirby > screenwidth - kirbywidth) {
          // TODO
        }

        for (var i = 1; i < 4; i++)
          if (ykirby <= yplatform[i][level] + platformheight && ykirby >= yplatform[i][level]
              && xkirby + kirbywidth >= xplatform[i][level] - 5
              && xkirby + kirbywidth <= xplatform[i][level] + 5) {
            drawImage(imgCurrent, xkirby, ykirby);
            //getContentPane().repaint(); // don't forget to repaint the container
            return;
          }
        if (xkirby < screenwidth - kirbywidth) {
          xkirby += 10;

          if ((onplatform) && (xkirby >= xplatform[platform][level] + platformwidth[platform] + 5)) {
            fallstart = true;
            ykirby = y0;
            v0y = 0;
          }
        }
        drawImage(imgCurrent, xkirby, ykirby);
                
        }
    
      

        function MoveLeftb() {

if (imgCurrentBandana == "imgBandana")
  drawImage("imgBlankE", xb, yb);
else
  drawImage("imgBlankE", xb, yb);
//getContentPane().repaint(); // don't forget to repaint the container

// bandana hits kirby left
if (ykirby + kirbyheight == yb + bandanaheight)
  // if ((xkirby<=xb+bandanawidth +5 && xkirby >= xb-5)||(xkirby+kirbywidth >=xb -
  // 5 && xkirby+kirbywidth <= xb + 5))
  // if ((xb <= xkirby +kirbywidth + 5) && (xb >= xkirby + kirbywidth - 5))
  if (Math.abs(xb - xkirby - kirbywidth) <= 5) {
    drawImage(imgCurrentBandana, xb, yb);
    //getContentPane().repaint(); // don't forget to repaint the container
    return;
  } // end kirby hits banana left

for (var i = 1; i < 4; i++)
  if (yb <= yplatform[i][level] + platformheight && yb >= yplatform[i][level]
      && xb <= xplatform[i][level] + platformwidth[i] + 5
      && xb >= xplatform[i][level] + platformwidth[i] - 5) {
    drawImage(imgCurrentBandana, xb, yb);
    //getContentPane().repaint(); // don't forget to repaint the container
    return;
  }

if (xb > 0) {
  xb -= 10;
  if ((onplatformb) && (xb + bandanawidth <= xplatform[platformb][level] - 5)) {
    fallstartb = 1;
    yb = yb0;
    vb0y = 0;
  }
}
drawImage(imgCurrentBandana, xb, yb);
//getContentPane().repaint(); // don't forget to repaint the container
}

function MoveRightb() {

if (imgCurrentBandana == "imgBandana")
  drawImage("imgBlankE", xb, yb);
else
  drawImage("imgBlankE", xb, yb);
//getContentPane().repaint(); // don't forget to repaint the container

// kirby hits bandana right
if (ykirby + kirbyheight == yb + bandanaheight)
  // if ((xkirby<=xb+bandanawidth +5 && xkirby >= xb-5)||(xkirby+kirbywidth >=xb -
  // 5 && xkirby+kirbywidth <= xb + 5))
  if ((xb + bandanawidth >= xkirby - 5) && (xb + bandanawidth <= xkirby + 5))
  // if (xkirby < xb-kirbywidth)
  // if (Math.abs(xkirby+kirbywidth/2 - (xb+bandanawidth/2))<=25)
  {
    // xkirby = xkirby - 25;
    drawImage(imgCurrentBandana, xb, yb);
    //getContentPane().repaint(); // don't forget to repaint the container
    return;
  } // end kirby hits banana

if (xb > screenwidth - kirbywidth) {
  // TODO
}

for (var i = 1; i < 4; i++)
  if (yb <= yplatform[i][level] + platformheight && yb >= yplatform[i][level]
      && xb + kirbywidth >= xplatform[i][level] - 5 && xb + kirbywidth <= xplatform[i][level] + 5) {
    drawImage(imgCurrentBandana, xb, yb);
    //getContentPane().repaint(); // don't forget to repaint the container
    return;
  }
if (xb < screenwidth - kirbywidth) {
  xb += 10;

  if ((onplatformb) && (xb >= xplatform[platformb][level] + platformwidth[platformb] + 5)) {
    fallstartb = true;
    yb = yb0;
    vb0y = 0;
  }
}
drawImage(imgCurrentBandana, xb, yb);
//getContentPane().repaint(); // don't forget to repaint the container
}

        
   
   
      //  document.addEventListener('keydown', formKeyPressed);
        document.addEventListener('keyup', function(event)
        {

          if(event.keyCode == 13) 
		{
			startspittingkirby = false;
			if (imgCurrent == "imgKirbyFireRight")
				drawImage("imgBlankFire",  xkirby+kirbywidth, ykirby + enemymouthy);
			else
				drawImage("imgBlankFire",  xkirby-191, ykirby+enemymouthy);
			//getContentPane().repaint();
		}

        

          if (event.keyCode == 39) 
          {
			      bool_moveRight = 0;
		      }

          if (event.keyCode == 37) 
          {
			      bool_moveLeft = 0;
		      }
          if (event.keyCode == 65) {
			bool_moveLeftb = false;
		}

		if (event.keyCode == 68) {
			bool_moveRightb = false;

		}

        });


        document.addEventListener('keydown', function(event) {
//bandana
if (event.keyCode == 65  && !event.shiftKey) {
			imgCurrentBandana = "imgBandanaLeft";
			bool_moveLeftb = true;

		}
		if (event.keyCode == 68 && !event.shiftKey) {
			imgCurrentBandana = "imgBandanaRight";
			bool_moveRightb = true;

		}

    if (event.keyCode == 68 && event.shiftKey) {
			vb0y = -75;
			yb0 = yb;
			if (imgCurrentBandana == "imgBandana")
				drawImage("imgBlankE", xb, yb);
			else
				drawImage("imgBlankE", xb, yb);
			imgCurrentBandana = "imgBandanaRight";
			jumpstartedb = 1;
			jumprightb = 1;
			jumpleftb = 0;
			if (onplatformb)
				jumpfromplatformb = 1;
			else
				jumpfromplatformb = 0;
			//new Thread(() -> {
				playSound("jump.wav");
		//	}).start();
			return;
		}

		if (event.keyCode == 65 && event.shiftKey) {
			vb0y = -75;
			yb0 = yb;
			if (imgCurrentBandana == "imgBandana")
				drawImage("imgBlankE", xb, yb);
			else
				drawImage("imgBlankE", xb, yb);
			imgCurrentBandana = "imgBandanaLeft";
			jumpstartedb = 1;
			jumpleftb = 1;
			jumprightb = 0;
			if (onplatformb)
				jumpfromplatformb = 1;
			else
				jumpfromplatformb = 0;
			//new Thread(() -> {
				playSound("jump.wav");
			//}).start();
			return;
		}

              // shoot enemy
		if (event.keyCode == 13) {
			// spit
			if (!startspittingkirby && hashat) {
				startspittingkirby = true;
				xspitkirby = xkirby;
				yspitkirby = ykirby + enemymouthy;
				spitdirectionkirby = kirbydirection;
			}
		}
          //jump left
          if (event.ctrlKey && event.keyCode === 37) 
          {
                kirbydirection = -1;
                v0y = -75;
                y0 = ykirby;
                if (!hashat) {
                  if (imgCurrent == "img")
                    drawImage("imgBlank", xkirby, ykirby);
                  else
                    drawImage("imgBlankK", xkirby, ykirby);
                } else {
                  drawImage("imgBlankFireSlim", xkirby, ykirby);
                }
                if (!hashat)
                  imgCurrent = "imgKirbyLeft";
                else
                  imgCurrent = "imgKirbyFireLeft";
                jumpstarted = 1;
                jumpleft = 1;
                jumpright = 0;
                if (onplatform)
                  jumpfromplatform = 1;
                else
                  jumpfromplatform = 0;
                //new Thread(() -> {
                //	playSound("sounds/jump.wav");
                //}).start();
                //soundjump.play();
                playSound("jump.wav");
                return;
          }
            //jump right
          if (event.keyCode == 39 && event.ctrlKey) 
          {
              kirbydirection = 1;
              v0y = -75;
              y0 = ykirby;
              if (!hashat) {
                if (imgCurrent == "img")
                  drawImage("imgBlank", xkirby, ykirby);
                else
                  drawImage("imgBlankK", xkirby, ykirby);
              } else {
                drawImage("imgBlankFireSlim", xkirby, ykirby);
              }
              if (!hashat)
                imgCurrent = "imgKirbyRight";
              else
                imgCurrent = "imgKirbyFireRight";
              jumpstarted = 1;
              jumpright = 1;
              jumpleft = 0;
              if (onplatform)
                jumpfromplatform = 1;
              else
                jumpfromplatform = 0;
              //new Thread(() -> {
            //		playSound("sounds/jump.wav");
            //	}).start();
            playSound("jump.wav");
              return;
		      }

          //move right
          if (!event.ctrlKey && event.keyCode === 39) 
          {
            kirbydirection = 1;
			      if (hashat == 0)
				      imgCurrent = "imgKirbyRight";
			      else
				      imgCurrent = "imgKirbyFireRight";
			      bool_moveRight = 1;
          }
          
          //move left
          if (!event.ctrlKey && event.keyCode === 37) 
          {
            kirbydirection = -1;
			      if (hashat == 0)
				      imgCurrent = "imgKirbyLeft";
			      else
				      imgCurrent = "imgKirbyFireLeft";
			      bool_moveLeft = 1;
          }

            //aspire
            if (event.keyCode == 32) //SPACE
			for (var i = 0; i <= 3; i++) {
				if (enemyExists[i][level] && Math.abs(xkirby - xe[i][level]) <= aspiringrange
						&& ((imgCurrent == "imgKirbyRight" || imgCurrent == "imgKirbyFireRight") && xkirby <= xe[i][level]
								|| (imgCurrent == "imgKirbyLeft" || imgCurrent == "imgKirbyFireLeft") && xkirby >= xe[i][level])
						&& Math.abs(ykirby - ye[i][level]) <= 25) {
					aspiring[i] = true;
					if (enemySpitting[i][level]) {
						hashat = true;
						ykirby = ykirby - (kirbyfireheight - kirbyheight);
						kirbyheight = kirbyfireheight;
					}

					// imgEnemyCurrent[i] = imgEnemyHorizontal;
					if (enemySpitting[i][level]) {
						imgEnemyCurrent[i] = "imgHotHeadHorizontal";
					} else {
						imgEnemyCurrent[i] = "imgEnemyHorizontal";
					}

					if (hashat) {
						if (xkirby <= xe[i][level]) {
							imgCurrent = "imgKirbyFireRight";
						} else {
							imgCurrent = "imgKirbyFireLeft";
						}
					} else {

						if (xkirby <= xe[i][level]) {
							imgCurrent = "imgAspiringRight";
						} else {
							imgCurrent = "imgAspiringLeft";
						}
					}
					break;
				}

			}

          _DoMovement();
		 _DoMovementb();
});

function start()
{
  document.getElementById('lblLifeKirby').removeAttribute('hidden');
  document.getElementById('lifeKirby').removeAttribute('hidden');

  document.getElementById('lblpbBandana').removeAttribute('hidden');
  document.getElementById('pbBandana').removeAttribute('hidden');
  
  document.getElementById('jLabel1').removeAttribute('hidden');
  document.getElementById('jLabel3').removeAttribute('hidden');

  document.getElementById('btnStart').setAttribute('hidden', 'true');
  document.getElementById('canvas1').removeAttribute('hidden');
  x = document.getElementById('mySound');
  x.play();
}

</script>
</head>
<body onload="PlatformJFrame();" >
  
  <table>
	<tr><td colspan="2"><div style="border: 1px;border-color: black;border-style: solid;caret-color: transparent" >
		Kirby : arrows to move, CTRL+arrow to jump, SPACE to aspire enemy, ENTER to fire.</br>
		Bandana: A, D to move, SHIFT to jump.</br>
		Press B to bring Kirby back.</br>
		Kill enemies by aspiring them or jumping on them.</br>
	</div></td></tr>

	<tr><td>
  <label id="lblLifeKirby" for="lifeKirbyfile" hidden>Life Kirby:</label> 
  </td><td>
  <progress id="lifeKirby" value="99" max="99" hidden></progress>   
  </td>
</tr>

<tr><td>
  <label id="lblpbBandana" for="pbBandanafile" hidden>Life Bandana:</label>
  </td><td> 
  <progress id="pbBandana" value="99" max="99" hidden></progress>  
</td></tr>

<tr><td colspan="2"><div id="jLabel1" hidden>Level: 1</div></td>
</tr> 
<tr><td colspan="2"><div id="jLabel3" hidden>Coins: 0</div></td>
</tr> 

</table>
  <input id = "btnStart" type="button" value="Start Game" onclick="start();" />
<canvas id = "canvas1" width=640 height = 450 style="background-color:#00A2E8;top:0;left:0;" hidden /> 

<!--
<div jLabel1>Test</div>
<div jLabel2 />Test</div>
<div jLabel3 />Test</div>
-->

<EMBED SRC = "test2.mid" HIDDEN = "true" loop = "yes" volume="10" autostart="true">

<img id="imgGround" src="images/ground.bmp" alt="no" width="640" height="75" top="375" left="0" > 
<img id="img" src="images/kirbyt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgKirbyLeft" src="images/kirbyleftt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgKirbyRight" src="images/kirbyrightt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgCoin" src="images/coin.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgDoor" src="images/door.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgBandana" src="images/bandanat.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgBandanaLeft" src="images/bandanaleftt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgBandanaRight" src="images/bandanarightt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgBlank" src="images/blankblue.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgBlankE" src="images/enemy.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgBlankK" src="images/blankk.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgBlankB" src="images/blankb.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgBlankFireSlim" src="images/blankfireslim.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgPlatform" src="images/platform.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgBlankForPlatform" src="images/blankForPlatform.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgEnemyRight" src="images/enemyrightt.png" alt="no" width="640" height="75" top="375" left="0">
<img id="imgEnemyLeft" src="images/enemyleftt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgEnemyRightMask" src="images/enemyrightmaskt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgEnemyLeftMask" src="images/enemyleftmaskt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgBlankSpit" src="images/blankforspit.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgEnemyHorizontal" src="images/enemyhorizontalt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgAspiringLeft" src="images/kirbyaspiringleftt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgAspiringRight" src="images/kirbyaspiringrightt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgSpitRight" src="images/spitright.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgSpitLeft" src="images/spitleft.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgHotHeadRight" src="images/hotheadrightt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgHotHeadLeft" src="images/hotheadleftt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgHotHeadRightMask" src="images/hotheadrightmaskt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgHotHeadLeftMask" src="images/hotheadleftmaskt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgKirbyFireLeft" src="images/kirbyfireleftt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgKirbyFireRight" src="images/kirbyfirerightt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgFireLeft" src="images/fireleft.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgFireRight" src="images/fireright.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgBlankFire" src="images/blankforfire.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgBlankFireWide" src="images/blankfirewide.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgBlankFireSlim" src="images/blankfireslim.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgWhispy" src="images/whispywoodst2.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgApple" src="images/applet.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgBlankApple" src="images/applemask.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgHotHeadHorizontal" src="images/hotheadhorizontalt.png" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgVictory" src="images/victory.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgGameOver" src="images/gameover.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgCaged" src="images/caged.bmp" alt="no" width="640" height="75" top="375" left="0" >
<img id="imgFree" src="images/free.bmp" alt="no" width="640" height="75" top="375" left="0" >

<audio controls id="mySound">
  <source src="sounds/tunnel.mp3" type="audio/mp3" />
  </audio>


<!--
<audio controls id="mySound">
  <source src="sound.mp3" type="audio/mp3">
  </audio>
  -->


</body>
</html>